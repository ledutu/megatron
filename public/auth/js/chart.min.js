var chart,
options,
dataChart;

function convertDataChart(t) {

    _time=toTimestamp(getTime())+3e4,
    aaa=convertTimetoDate(_time),
    dataChart=[],
    _time=toTimestamp(getTime())+3e4,
    t[symbol].forEach(function(t) {
            var e=convertTimetoDate(_time); _arrayTemp=[e, t.high, t.open, t.close, t.low], _time-=3e4, dataChart.push(_arrayTemp)
        }

    ),
    $(".currentPrice").html("High: "+t[symbol][0].high+" - Open: "+t[symbol][0].open+" - Close: "+t[symbol][0].close+" - Low: "+t[symbol][0].low),
    dataChart.reverse(),
    google.charts.setOnLoadCallback(drawChart)
}

function drawChart() {
    var t=google.visualization.arrayToDataTable(dataChart,  !0),
    e=370,
    a=$(window).width();
    //e moi them 
	if(a > 770 && a < 1400){
		e = 300;
	}else if(a <= 770){
		e = 200;
	}else {
		e = 370;
	}
    // $(window).resize(function() {
   	// 		a=$(window).width();
    // 		if(a > 770 && a < 1400){
    // 			e = 300;
    // 		}else if(a <= 770){
    // 			e = 200;
    // 		}else {
    // 			e = 370;
    // 		}
    // 		// e = (a > 770 && a < 1400 ? 300 : (a < 770 ? 200 : 370));
    //     }
    // ),
    options= {

        legend:"none",
        colors:["#aaaaaa"],
        textStyle: {
            color: "white"
        }

        ,
        tooltip: {
            trigger: "none"
        }

        ,
        chartArea: {
            width: "90%", height:"75%"
        }

        ,
        slantedText: !0,
        slantedTextAngle:90,
        fallingColor: {
            fill: "#ffffff"
        }

        ,
        height:e,
        backgroundColor: {
            fill: "transparent"
        }

        ,
        candlestick: {
            fallingColor: {
                strokeWidth: 0, fill:"#ff0000"
            }

            ,
            risingColor: {
                strokeWidth: 0, fill:"#06ff00"
            }
        }

        ,
        colors:["#0617ff"]
    }

    ,
    (chart=new google.visualization.CandlestickChart(document.getElementById("chart"))).draw(t, options),
    //mÆ¡i add
    (chart=new google.visualization.CandlestickChart(document.getElementById("chart2"))).draw(t, options)
}

function toTimestamp(t) {
    return Date.parse(t)
}

function getTime() {
    var t=new Date,
    e=String(t.getDate()).padStart(2, "0"),
    a=String(t.getMonth()+1).padStart(2, "0"),
    o=t.getFullYear(),
    r=t.getHours(),
    n=t.getMinutes();
    return t=a+"/"+e+"/"+o+" "+r+":"+n
}

function convertTimetoDate(t) {
    var e=new Date(t),
    a=(e.getHours(), "0"+e.getMinutes()),
    o="0"+e.getSeconds();
    return a.substr(-2)+":"+o.substr(-2)
}

google.charts.load("current", {
        packages:["corechart"]
    }

);
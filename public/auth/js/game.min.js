$(function(){var t=0,e=0,s=0,a=0,i={buy:0,sell:0};function o(t){myBet=JSON.parse(y("mybet")),$("#myBuy").html("$ "+myBet.buy),$("#mySell").html("$ "+myBet.sell)}function n(t="error",e="",s=""){Swal.fire({position:"top-end",title:e,text:s,width:"300px",height:"200"})}function l(t){return"$ "+t.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function m(t,e,s){var a="";if(s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3),a="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+a+"; path=/"}function y(t){for(var e=t+"=",s=document.cookie.split(";"),a=0;a<s.length;a++){for(var i=s[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null}today=new Date,minutes=today.getMinutes(),_statistical=y("statistical"),_mybet=y("mybet"),_mybet?(myBet=JSON.parse(y("mybet")),o(myBet)):(_mybetJson=JSON.stringify(i),m("mybet",_mybetJson,1),o(i)),socket.emit("client-get-data-chart",symbol),socket.emit("client-sent-connect",user),socket.on("sv-send-data",function(e){s=e.time,playSound("Tick"),e.time>30?$(".watting").html('<div class="waitingImg"><p style="color: #067a03"><span style="color: #fff;font-size: 20px;border: 2px #eeb61d solid;display: inline-block;">'+(Number(e.time)-30)+"</span> Order</p></div>"):e.time>9?$(".watting").html('<div class="waitingImg"><p><span style="color: #fff;font-size: 20px;display: inline-block;">'+Number(e.time)+"</span> Waiting</p></div>"):$(".watting").html('<div class="waitingImg"><p><span style="color: #fff;font-size: 20px;display: inline-block;">0'+Number(e.time)+"</span> Waiting</p></div>"),60==e.time?(t=0,socket.emit("client-send-dataPie"),socket.emit("client-send-balance"),socket.emit("client-send-statistical",symbol),$("body").removeClass("win"),$("body").removeClass("lose"),a=0,0,_mybetJson=JSON.stringify({buy:0,sell:0}),m("mybet",_mybetJson,1),o({buy:0,sell:0}),$(".amountBet").val(0),$("body").addClass("start"),playSound("Start")):$("body").removeClass("start"),30==e.time?($("body").addClass("stop"),playSound("Stop")):$("body").removeClass("stop"),convertDataChart(e.dataChart)}),socket.on("sv-send-balance",function(t){e=t,$("#myBalance").html(l(t))}),socket.on("sv-send-status",function(t){e=t.balance,$("#myBalance").html(l(e))}),socket.emit("client-send-dataPie"),socket.on("sv-send-logout",function(t){window.location.href="https://exchange.fibotrade.co/logout"}),socket.on("sv-send-statistical",function(t){0!=a&&(myBet=JSON.parse(y("mybet")),_profix=0,"up"==t.statistical[symbol]?(_a=Number(myBet.buy)-Number(myBet.sell),_a>0?(playSound("Win"),$("body").addClass("win"),_profix=1.95*Number(myBet.buy)-Number(myBet.buy)-Number(myBet.sell)):(playSound("Lose"),$("body").addClass("lose"),_profix=Math.abs(Number(myBet.buy)-Number(myBet.sell))),0!=_profix&&$(".profit .box-body").html(_profix)):(_a=Number(myBet.sell)-Number(myBet.buy),_a>0?(console.log("win"),$("body").addClass("win"),_profix=1.95*Number(myBet.sell)-Number(myBet.buy)-Number(myBet.sell)):(console.log("lose"),$("body").addClass("lose"),_profix=Math.abs(Number(myBet.buy)-Number(myBet.sell))),0!=_profix&&$(".profit .box-body").html(_profix)))}),socket.emit("client-send-statistical",symbol),socket.on("sv-send-statistical2",function(t){!function(t){for(t.reverse(),_htmlStatistical="",_i=0;_i<60;_i++)0==_i&&(_htmlStatistical+='<div class="col10">'),t[_i]?_htmlStatistical+='<span class="'+t[_i]+'"></span>':_htmlStatistical+='<span class=""></span>',(_i+1)%6==0&&0!=_i&&(_htmlStatistical+='</div><div class="col10">');_htmlStatistical+="</div>",$(".tableHistory").html(_htmlStatistical)}(t)}),$(".amountBet").keyup(function(){t=""==$(this).val()?0:$(this).val(),$(".amountBet").val(t)}),$(".bet").click(function(){_type=$(this).data("type"),_amount=$(".amountBet").val(),a=e,_amount,!_amount||0==_amount||_amount<0?n("error","Oops...","Amount > 1"):s<30?n("error","Oops...","Time Out..."):_amount>e?n("error","Oops...","Invalid amount!"):(myBet=JSON.parse(y("mybet")),"buy"==_type?myBet.buy+=Number(_amount):myBet.sell+=Number(_amount),_mybetJson=JSON.stringify(myBet),m("mybet",_mybetJson,1),o(myBet),_data={symbol:symbol,amount:_amount,type:_type},socket.emit("client-send-bet",_data))}),$(".boxImgcoin a").click(function(){_tem=$(this).data("amount"),t+=Number(_tem),$(".amountBet").val(t)}),$(".clearAmount").click(function(){t=0,$(".amountBet").val(t)})});